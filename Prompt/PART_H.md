# Part H â€” ìš´ì˜ íŒ & ë°°í¬ ìš´ì˜ ê°€ì´ë“œ

# (ë¡œê·¸Â·ë°±ì—…Â·ë¡¤ë°±Â·ëª¨ë‹ˆí„°ë§Â·ì„±ëŠ¥Â·ë³´ì•ˆÂ·ìŠ¤ì¼€ì¼ë§Â·ìë™í™”)

[ì „ì œ/ê²½ë¡œ]

- ì½”ë“œ ë£¨íŠ¸(WSL): /home/max16/pillsnap
- venv(WSL): $HOME/pillsnap/.venv
- ì‹¤í—˜ ë””ë ‰í† ë¦¬: **/home/max16/ssd_pillsnap/exp/exp01** (SSD ì´ì „ ì™„ë£¼)
- API í¬íŠ¸: 8000 (uvicorn, Part F)
- Cloudflared(Windows): C:\ProgramData\Cloudflare\cloudflared\ (Part G)

[ì´ íŒŒíŠ¸ì—ì„œ êµ¬í˜„/ìˆ˜ì •í•  í•­ëª©]

1. ìŠ¤í¬ë¦½íŠ¸(scripts/)
   - maintenance.sh # ë¡œê·¸/ì•„í‹°íŒ©íŠ¸ ì •ë¦¬, ë””ìŠ¤í¬ ë¦¬í¬íŠ¸
   - backup_release.sh # ë¦´ë¦¬ìŠ¤ ì•„ì¹´ì´ë¸Œ ìƒì„±(.tar.gz + sha256 + manifest)
   - reload_model.sh # /reloadë¡œ ëª¨ë¸ ë¬´ì¤‘ë‹¨ êµì²´
   - perf_bench_infer.py # Torch vs ONNX ì¶”ë¡  ë²¤ì¹˜(ë°°ì¹˜/ìŠ¤ë ˆë“œ/EP)
   - ort_optimize.py # onnxruntime í”„ë¡œë°”ì´ë”/ì˜µì…˜ íƒìƒ‰Â·ì¶”ì²œ
   - quantize_dynamic.py # ONNX ë™ì  ì–‘ìí™”(INT8) + ì •í™•ë„ ë¹„êµ
   - health_watch.ps1 # (Windows) ì™¸ë¶€/ë‚´ë¶€ í—¬ìŠ¤ì²´í¬, ì‹¤íŒ¨ ì‹œ cloudflared ì¡°ì¹˜
   - rotate_logs.ps1 # (Windows) cloudflared.log ë¡œí…Œì´ì…˜
2. ë¬¸ì„œ(docs/)
   - OPS_CHECKLIST.md # ì¼/ì£¼/ì›” ì ê²€í‘œ
   - ROLLBACK.md # ë¡¤ë°± ì ˆì°¨(ìŠ¤í…ë°”ì´ìŠ¤í…)
   - SECURITY.md # API Key/CORS/Zero Trust/ë¹„ë°€ê´€ë¦¬
   - PERFORMANCE.md # ORT/Torch íŠœë‹/ìŠ¤ë ˆë“œ/ê·¸ë˜í”„ì˜µíŠ¸/ì–‘ìí™” ê°€ì´ë“œ

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-1) ë¡œê¹…Â·ë³´ì¡´Â·ë¡œí…Œì´ì…˜ ì •ì±…

[WSL/API ë¡œê·¸]

- ìœ„ì¹˜: **/home/max16/ssd_pillsnap/exp/exp01/logs/** (SSD ì €ì¥)
  â€¢ train.out|err, api.out|err, export.out|err, perf_bench.json ë“±
- ë³´ì¡´: 7ì¼â†‘ gzip ì••ì¶• â†’ logs/archive/ ë¡œ ì´ë™, 30ì¼â†‘ ì‚­ì œ(í•„ìš” ì‹œ ë³€ê²½)

[Windows/cloudflared ë¡œê·¸]

- ìœ„ì¹˜: C:\ProgramData\Cloudflare\cloudflared\cloudflared.log
- rotate_logs.ps1 ìš”êµ¬ì‚¬í•­:
  1. íŒŒì¼ í¬ê¸° â‰¥ 100MB ë˜ëŠ” 7ì¼ ê²½ê³¼ ì‹œ cloudflared.log.YYYYMMDD.gzë¡œ íšŒì „
  2. ìµœê·¼ 10ê°œë§Œ ë³´ì¡´, ë‚˜ë¨¸ì§€ ì‚­ì œ
  3. ê¶Œí•œ ë¬¸ì œ/ì—´ë¦¼ ìƒíƒœì¼ ë•Œ ì•ˆì „ ì²˜ë¦¬(ì„ì‹œ íŒŒì¼ë¡œ ë³µì‚¬ í›„ ì›ë³¸ truncate)

[maintenance.sh ìš”êµ¬ì‚¬í•­]

- set -euo pipefail
- exp_dir í•˜ìœ„:
  ```
  1. logs/*.out|*.err 7ì¼â†‘ gzip â†’ logs/archive/
  2. logs/archive/*.gz 30ì¼â†‘ ì‚­ì œ
  3. checkpoints/ ì˜ last_*.pt 14ì¼â†‘ ì •ë¦¬(best.ptëŠ” ë³´ì¡´)
  4. export/*.onnx 5ê°œ ì´ˆê³¼ ì‹œ ì˜¤ë˜ëœ ê²ƒë¶€í„° ì œê±°(ìµœì‹ /ì‹¬ë³¼ë¦­ ìœ ì§€)
  5. df -h / /mnt/data ê²°ê³¼ë¥¼ reports/disk_YYYYMMDD.txtë¡œ ì €ì¥
  ```
- ì‹¤í–‰ ì˜ˆ:
  $ bash scripts/deployment/maintenance.sh

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-2) ë°±ì—…Â·ë¦´ë¦¬ìŠ¤ ì•„ì¹´ì´ë¸Œ(ë°°í¬ ì‚°ì¶œë¬¼ í‘œì¤€í™”)

[backup_release.sh ìš”êµ¬ì‚¬í•­]

- set -euo pipefail
- ì…ë ¥:
  â€¢ onnx ê²½ë¡œ(ì„ íƒ). ì—†ìœ¼ë©´ export/ ìµœì‹  onnx ìë™ íƒìƒ‰(latest.onnx â†’ realpath).
- ì‚°ì¶œë¬¼ ë””ë ‰í† ë¦¬: {exp_dir}/releases/
- í¬í•¨ íŒŒì¼:
  â€¢ config.yaml, .env.example, requirements.txt
  â€¢ export/\*.onnx (ë˜ëŠ” ì§€ì • onnx 1ê°œë§Œâ€”ì˜µì…˜ ìŠ¤ìœ„ì¹˜ ì œê³µ)
  â€¢ export/export_report.json, reports/metrics.json(ìµœì‹ )
  â€¢ VERSION.txt (UTC+git SHA), MANIFEST.json (íŒŒì¼ ëª©ë¡/í¬ê¸°/sha256)
- íŒŒì¼ëª…: release-<UTC>-<sha|nogit>.tar.gz
- sha256sum: release-....tar.gz.sha256 ìƒì„±
- ì¶œë ¥ ê²½ë¡œ echo

[ë³µêµ¬ ê°€ì´ë“œ(ë¬¸ì„œì—ë„ ì‚½ì…)]

- ì•„ì¹´ì´ë¸Œ í’€ê¸° â†’ MODEL_PATHë¥¼ í•´ë‹¹ onnxë¡œ ì§€ì •í•˜ê±°ë‚˜ /reloadë¡œ êµì²´ â†’ /version í™•ì¸

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-3) ìš´ì˜ ì¤‘ ë¬´ì¤‘ë‹¨ êµì²´(/reload) & ë¡¤ë°±

[reload_model.sh ìš”êµ¬ì‚¬í•­]

- ì¸ì: --path /mnt/data/exp/exp01/export/model-....onnx
- .envì—ì„œ API_KEY ë¡œë“œ
- í˜¸ì¶œ: POST /reload {"model_path":"..."} â†’ ì„±ê³µ ì‹œ /version í™•ì¸
- ì‹¤íŒ¨ ì‹œ:
  â€¢ ì‘ë‹µ ë³¸ë¬¸/ìƒíƒœì½”ë“œ ì¶œë ¥ â†’ ì´ì „ ëª¨ë¸ ìœ ì§€
  â€¢ íŒíŠ¸: ê²½ë¡œ ì˜¤íƒ€/ê¶Œí•œ/ì†ìƒ íŒŒì¼/í´ë˜ìŠ¤ ë¶ˆì¼ì¹˜

[ë¡¤ë°± í”Œë¡œìš°(ROLLBACK.mdì—ë„ ë™ì¼ ì„œìˆ )]

1. ì•ˆì •íŒ onnx ê²½ë¡œ í™•ì¸(ë¦´ë¦¬ìŠ¤ ë³´ê´€ ë˜ëŠ” export/ì§ì „ íŒŒì¼)
2. reload_model.sh --path <ì•ˆì •íŒ.onnx>
3. /versionìœ¼ë¡œ êµì²´ í™•ì¸
4. ë¬¸ì œ ì§€ì† ì‹œ cloudflared ì¼ì‹œ ì¤‘ë‹¨(ë˜ëŠ” ë°©í™”ë²½ ë ˆë²¨) í›„ ì ê²€

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-4) í—¬ìŠ¤ì²´í¬Â·ëª¨ë‹ˆí„°ë§(ê°„ë‹¨â†’í™•ì¥)

[health_watch.ps1 ìš”êµ¬ì‚¬í•­(Windows)]

- ë§¤ 1ë¶„ ë‚´ë¶€/ì™¸ë¶€ ì²´í¬:
  â€¢ ë‚´ë¶€: http://localhost:8000/health
  â€¢ ì™¸ë¶€: https://api.pillsnap.co.kr/health
- 2íšŒ ì—°ì† ì‹¤íŒ¨ ì‹œ ì¡°ì¹˜:
  1. cloudflared ì„œë¹„ìŠ¤ ì¬ì‹œì‘
  2. ì—¬ì „íˆ ì‹¤íŒ¨ â†’ ê°„ë‹¨ ì•Œë¦¼(ì½˜ì†”/Windows ì´ë²¤íŠ¸ ë¡œê·¸) ë‚¨ê¸°ê³  ì¢…ë£Œì½”ë“œâ‰ 0
- ë¡œê·¸: C:\ProgramData\Cloudflare\cloudflared\health_watch.log ì— append

[í™•ì¥ ì•„ì´ë””ì–´(ì„ íƒ)]

- GitHub Actions/ì„œë“œíŒŒí‹° Uptime ë¡œë´‡ìœ¼ë¡œ ì™¸ë¶€ í—¬ìŠ¤ ëª¨ë‹ˆí„°ë§
- /metrics(í”„ë¡œë©”í…Œìš°ìŠ¤) ë…¸ì¶œì€ ë²”ìœ„ ë°–. í•„ìš” ì‹œ ë³„ ë¬¸ì„œì—ì„œ í™•ì¥

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-5) ì¶”ë¡  ì„±ëŠ¥ ë²¤ì¹˜Â·ìµœì í™”(ORT/Torch)

[perf_bench_infer.py ìš”êµ¬ì‚¬í•­]

- ì…ë ¥:
  â€¢ --engine {onnx,torch,both}, --model PATH, --inputs "glob", --batch {1,2,4,8,16,32}
  â€¢ --threads {0|N} (ORT CPU ê²½ë¡œìš©), --providers "CUDA,CPU" (ì½¤ë§ˆ)
- ì¶œë ¥:
  â€¢ ê° ë°°ì¹˜ì— ëŒ€í•œ latency(ms)/throughput(img/s) í‘œ ë° JSON({exp_dir}/reports/bench_UTC.json)
- ê·œì¹™:
  â€¢ ì „ì²˜ë¦¬(src.infer.preprocess) ì¬ì‚¬ìš©
  â€¢ TorchëŠ” eval+no_grad, ONNXëŠ” select_onnx_providers ì •ì±…(Part E)
  â€¢ ê²°ê³¼ ìš”ì•½ì„ ì½˜ì†” í…Œì´ë¸”ë¡œ í‘œì‹œ

[ort_optimize.py ìš”êµ¬ì‚¬í•­]

- ì—¬ëŸ¬ ì„¸ì…˜ ì˜µì…˜/EP ì¡°í•© ë²¤ì¹˜:
  â€¢ providers: [["CUDA"],["CUDA","CPU"],["CPU"]]
  â€¢ graph_optimization_level: ORT_DISABLE_ALL|BASIC|EXTENDED|ALL
  â€¢ cudnn_conv_use_max_workspace: 0|1
- ìµœê³  throughput ì¡°í•© ì¶”ì²œ ë° JSON ë¦¬í¬íŠ¸({exp_dir}/reports/ort_bench.json)

[quantize_dynamic.py ìš”êµ¬ì‚¬í•­]

- ì…ë ¥: --model model.onnx, --out model.int8.onnx
- ë°©ì‹: onnxruntime.quantization.quantize_dynamic(weight_type=QInt8)
- ë¹„êµ:
  â€¢ perf_bench_infer.pyë¥¼ í˜¸ì¶œí•´ FP32 vs INT8 throughput ë¹„êµ
  â€¢ ì •í™•ë„: val ìƒ˜í”Œ 128ì¥ ê¸°ì¤€ Top-1 í•˜ë½ë¥  ë³´ê³ (í—ˆìš© ì„ê³„ ì˜ˆ: â‰¤0.5%â€”configë¡œ ì¡°ì ˆ)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-6) ë³´ì•ˆÂ·ë¹„ë°€ ê´€ë¦¬

[API Key]

- .envì˜ API_KEYëŠ” ìµœì†Œ 32ë°”ì´íŠ¸ ë‚œìˆ˜(ì˜ˆ: `openssl rand -hex 32`)
- êµì²´ ì ˆì°¨:
  1. .env ê°±ì‹  â†’ uvicorn ì¬ì‹œì‘
  2. í´ë¼ì´ì–¸íŠ¸ í—¤ë” ì—…ë°ì´íŠ¸(X-API-Key)
- ë¡œê·¸ì— Key ë…¸ì¶œ ê¸ˆì§€(ë§ˆìŠ¤í‚¹)

[CORS]

- ìš´ì˜ì—ì„œëŠ” CORS_ALLOW_ORIGINSë¥¼ í”„ëŸ°íŠ¸ ë„ë©”ì¸ë§Œ ë‚¨ê¹€
- í”„ë¦¬í”Œë¼ì´íŠ¸/ì‹¤íŒ¨ ë¡œê·¸ë¥¼ ì£¼ê¸° ì ê²€

[ì—…ë¡œë“œ ì œí•œÂ·ê²€ì¦]

- MAX_UPLOAD_MB=20 ê¸°ë³¸ ìœ ì§€(ëŒ€ìš©ëŸ‰ì€ /batchë¡œ ë‚˜ëˆ”)
- í™•ì¥ìÂ·Content-Type í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê°•ì œ

[Cloudflare Zero Trust(ì„ íƒ)]

- /reload, /batch ë“± ë¯¼ê° ê²½ë¡œì— Access ì •ì±… ì ìš© ê°€ëŠ¥(ì „ìë©”ì¼/ê·¸ë£¹ ì œí•œ)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-7) ìŠ¤ì¼€ì¼ë§ ì „ëµ

[ìˆ˜ì§ í™•ì¥]

- ë” í° GPU(ë©”ëª¨ë¦¬â†‘), ORT CUDA EP ìµœì í™”
- img_size/batch ì¡°ì ˆë¡œ ì§€ì—°/ì²˜ë¦¬ëŸ‰ ê· í˜•

[ìˆ˜í‰ í™•ì¥]

- ë‹¨ì¼ GPU = uvicorn workers=1 ì¸ìŠ¤í„´ìŠ¤ 1ê°œ ì›ì¹™
- ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤(ì—¬ëŸ¬ WSL/ë¨¸ì‹ ) ì‹¤í–‰ í›„ Cloudflare Load Balancerë¡œ íŠ¸ë˜í”½ ë¶„ì‚°
- ëª¨ë¸ íŒŒì¼ì€ ê³µìš© ì €ì¥ì†Œ(ê³µìœ  ë§ˆìš´íŠ¸ or ë¦´ë¦¬ìŠ¤ íŒ¨í‚¤ì§€ ë°°í¬)ë¡œ ë™ê¸°í™”

[ì•ˆì • ì¥ì¹˜]

- /reloadëŠ” ì¸ìŠ¤í„´ìŠ¤ë³„ë¡œ ìˆœì°¨ ì ìš©(ì• ì €ë¸” ìŠ¤í¬ë¦½íŠ¸/ê°„ë‹¨ ë£¨í”„)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-8) ìë™í™”(ìŠ¤ì¼€ì¤„ëŸ¬)

[WSL(cron)]

- ë§¤ì¼ 02:00 ìœ ì§€ë³´ìˆ˜:
  $ crontab -e
  0 2 \* \* \* bash /home/max16/pillsnap/scripts/maintenance.sh >> /mnt/data/exp/exp01/logs/cron_maint.out 2>&1

[Windows ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬]

- health_watch.ps1: ë§¤ 1ë¶„
- rotate_logs.ps1: ë§¤ì¼ 03:00
- cloudflared ì„œë¹„ìŠ¤ ìë™ ì‹œì‘ì€ Part Gì˜ service installë¡œ ì²˜ë¦¬ë¨

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-9) ë¬¸ì„œ í…œí”Œë¦¿(ìš”êµ¬ ë‚´ìš©)

[docs/OPS_CHECKLIST.md]

- ì¼ê°„: /healthÂ·cloudflared.logÂ·API ë¡œê·¸ ì—ëŸ¬ í™•ì¸, ë””ìŠ¤í¬ ì‚¬ìš©ë¥ , ìµœì‹  ëª¨ë¸ ë²„ì „ íƒœê·¸
- ì£¼ê°„: ë¡œê·¸ ë¡œí…Œì´ì…˜ ê²°ê³¼, ë°±ì—… ë¦´ë¦¬ìŠ¤ ìƒì„± ë° ë¬´ì‘ìœ„ ë³µì› í…ŒìŠ¤íŠ¸
- ì›”ê°„: API Key êµì²´, ì„±ëŠ¥ ë²¤ì¹˜ ì¬ì‹¤í–‰(perf_bench_infer.py), ë³´ì•ˆ ì ê²€(CORS/ì—…ë¡œë“œ ì •ì±…)

[docs/ROLLBACK.md]

- ì‚¬ì „ì¡°ê±´: ì•ˆì •íŒ onnx ê²½ë¡œ í™•ë³´
- ì ˆì°¨:
  1. reload_model.sh --path <ì•ˆì •íŒ.onnx>
  2. /versionìœ¼ë¡œ í™•ì¸
  3. í•„ìš” ì‹œ cloudflared ì¼ì‹œ ì¤‘ë‹¨â†’ì›ì¸ íŒŒì•…â†’ë³µêµ¬
- ì²´í¬: /predict ì •ìƒ, ì§€í‘œ ì—­ì „ ì—†ìŒ

[docs/SECURITY.md]

- API Key ì •ì±…Â·êµì²´ ì£¼ê¸°Â·ë³´ê´€
- CORS ì„¤ì • ì›ì¹™
- íŒŒì¼ ì—…ë¡œë“œ ì œí•œ/í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
- Cloudflare Access(ì„ íƒ)ì˜ ì ìš© ì˜ˆ

[docs/PERFORMANCE.md]

- ORT í”„ë¡œë°”ì´ë”/ì˜µì…˜ ê¶Œì¥ ì¡°í•©(ë²¤ì¹˜ ê²°ê³¼ ìŠ¤ëƒ…ìƒ·)
- ë°°ì¹˜ í¬ê¸°/ìŠ¤ë ˆë“œ/ì…ë ¥ í¬ê¸° íŠ¸ë ˆì´ë“œì˜¤í”„
- INT8 ì–‘ìí™” ê°€ì´ë“œ(í—ˆìš© ì •í™•ë„ í•˜ë½ í•œê³„)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H-10) ê²€ì¦Â·ìš´ì˜ ì ê²€ íë¦„

1. API ê¸°ë™: curl http://localhost:8000/health â†’ 200
2. ì™¸ë¶€ í—¬ìŠ¤: curl https://api.pillsnap.co.kr/health â†’ 200
3. ë¦´ë¦¬ìŠ¤ ìƒì„±: bash scripts/backup_release.sh â†’ releases/â€¦tar.gz + .sha256
4. ì„±ëŠ¥ ì ê²€: python scripts/perf_bench_infer.py --engine both --model <onnx> --inputs "/mnt/data/AIHub_576/val/**/*.jpg" --batch 1,2,4,8,16
5. ìµœì í™”: python scripts/ort_optimize.py â†’ reports/ort_bench.json í™•ì¸
6. ì–‘ìí™”(ì„ íƒ): python scripts/quantize_dynamic.py --model <onnx> --out <int8.onnx> â†’ ì •í™•ë„/ì†ë„ ë¹„êµ
7. ë¡¤ë°± ë¦¬í—ˆì„¤: scripts/reload_model.sh --path <ì§ì „ ì•ˆì •íŒ.onnx> â†’ /version í™•ì¸
8. ìŠ¤ì¼€ì¤„ëŸ¬: cron/ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ë“±ë¡ ë° ìµœì´ˆ ì‹¤í–‰ ë¡œê·¸ í™•ì¸
9. ë¡œê·¸Â·ë³´ì¡´: maintenance.sh / rotate_logs.ps1 ìˆ˜ë™ ì‹¤í–‰ìœ¼ë¡œ ì •ìƒ ë™ì‘ ì²´í¬

[Windows ì„œë¹„ìŠ¤ í‘œì¤€ ê²½ë¡œ/ëª…ë ¹]

- ì„¤ì •/ìê²©ì¦ëª… ìœ„ì¹˜(ê¶Œì¥):
  - config.yml: C:\ProgramData\Cloudflare\cloudflared\config.yml
  - credentials: C:\ProgramData\Cloudflare\cloudflared\<TUNNEL_ID>.json
  - ë¡œê·¸: C:\ProgramData\Cloudflare\cloudflared\cloudflared.log
- ì„œë¹„ìŠ¤ ì‹¤í–‰ ëª…ë ¹ ì¬ì„¤ì •(ê´€ë¦¬ì PowerShell):
  sc.exe config Cloudflared binPath= "\"C:\ProgramData\chocolatey\lib\cloudflared\tools\cloudflared.exe\" --config \"C:\ProgramData\Cloudflare\cloudflared\config.yml\" tunnel run <TUNNEL_ID>"
  sc.exe config Cloudflared start= auto
  sc.exe start Cloudflared
- ê¶Œí•œ ê°•í™”(ì„ íƒ):
  icacls "C:\ProgramData\Cloudflare\cloudflared" /inheritance:r /grant:r "BUILTIN\Administrators":(OI)(CI)(F) "NT AUTHORITY\SYSTEM":(OI)(CI)(F) /T /C

## ğŸ¯ **PART_H í•µì‹¬ ì—…ë°ì´íŠ¸ ì™„ë£Œ**

### âœ… **ìš´ì˜ ìë™í™” ì‹œìŠ¤í…œ**
- **maintenance.sh**: ë¡œê·¸ ë¡œí…Œì´ì…˜, ì²´í¬í¬ì¸íŠ¸ ì •ë¦¬, ë””ìŠ¤í¬ ë¦¬í¬íŠ¸
- **backup_release.sh**: ëª¨ë¸ + ì„¤ì • ì•„ì¹´ì´ë¸Œ ìƒì„± (release-YYYYMMDD-SHA.tar.gz)
- **reload_model.sh**: ë¬´ì¤‘ë‹¨ ëª¨ë¸ êµì²´ (/reload API í™œìš©)

### âœ… **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹ & ìµœì í™”**
- **perf_bench_infer.py**: PyTorch vs ONNX ì„±ëŠ¥ ë¹„êµ (ë°°ì¹˜/ìŠ¤ë ˆë“œë³„)
- **ort_optimize.py**: ONNX Runtime ìµœì  ì„¤ì • íƒìƒ‰
- **quantize_dynamic.py**: INT8 ì–‘ìí™” + ì •í™•ë„ ê²€ì¦

### âœ… **ëª¨ë‹ˆí„°ë§ & í—¬ìŠ¤ì²´í¬**
- **health_watch.ps1**: ë‚´ë¶€/ì™¸ë¶€ í—¬ìŠ¤ì²´í¬ (Windows)
- **rotate_logs.ps1**: Cloudflare ë¡œê·¸ ë¡œí…Œì´ì…˜
- **ìë™ ì¥ì•  ëŒ€ì‘**: ì„œë¹„ìŠ¤ ì¬ì‹œì‘, ì•Œë¦¼ ë°œì†¡

### âœ… **ë¬¸ì„œ & ê°€ì´ë“œ**
- **OPS_CHECKLIST.md**: ì¼/ì£¼/ì›” ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- **ROLLBACK.md**: ë¡¤ë°± ì ˆì°¨ ê°€ì´ë“œ
- **SECURITY.md**: API í‚¤, CORS, ì—…ë¡œë“œ ë³´ì•ˆ
- **PERFORMANCE.md**: RTX 5080 ìµœì í™” ê°€ì´ë“œ

### âœ… **ë°°í¬ & ë¦´ë¦¬ìŠ¤ ê´€ë¦¬**
- **ì•„ì¹´ì´ë¸Œ**: /mnt/data/exp/exp01/releases/ ì €ì¥
- **ë²„ì „ ê´€ë¦¬**: Git SHA + UTC íƒ€ì„ìŠ¤íƒ¬í”„
- **ë¬´ê²°ì„±**: SHA256 ì²´í¬ì„¬ ìë™ ìƒì„±

**âœ… PART_H ì™„ë£Œ: í”„ë¡œë•ì…˜ ìš´ì˜ & ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ**
